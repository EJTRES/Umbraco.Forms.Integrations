<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<PropertyGroup>
		<HubspotPropertyEditorFiles>$(MSBuildThisFileDirectory)..\App_Plugins\UmbracoForms.Integrations\Crm\Hubspot\**\*.*</HubspotPropertyEditorFiles>
	</PropertyGroup>

	<Target Name="CopyHubspotPropertyEditorAssets" BeforeTargets="Build">
		<ItemGroup>
			<HubspotPropertyEditorFiles Include="$(HubspotPropertyEditorFiles)" />
		</ItemGroup>
		<Message Text="Copying Hubspot Property Editor files: $(HubspotPropertyEditorFiles) - #@(HubspotPropertyEditorFiles->Count()) files" Importance="high" />
		<Copy
			SourceFiles="@(HubspotPropertyEditorFiles)"
			DestinationFiles="@(HubspotPropertyEditorFiles->'$(MSBuildProjectDirectory)\App_Plugins\UmbracoForms.Integrations\Crm\Hubspot\%(RecursiveDir)%(Filename)%(Extension)')"
			SkipUnchangedFiles="true" />

	</Target>

	<Target Name="ClearHubspotPropertyEditorAssets" BeforeTargets="Clean">
		<ItemGroup>
			<HubspotPropertyEditorDir Include="$(MSBuildProjectDirectory)\App_Plugins\UmbracoForms.Integrations\Crm\Hubspot\" />
		</ItemGroup>
		<Message Text="Clear Hubspot Property Editor data" Importance="high" />
		<RemoveDir Directories="@(HubspotPropertyEditorDir)"  />
	</Target>

</Project>